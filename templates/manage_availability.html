se.html" %}

{% block title %}Manage Availability - E-Vura{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-900 py-8">
    <div class="max-w-4xl mx-auto px-4">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-white mb-2">Manage Your Availability</h1>
            <p class="text-gray-300">Set your available hours for patient appointments</p>
        </div>

        <!-- Add New Availability -->
        <div class="bg-gray-800 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-bold text-white mb-4">Add New Availability</h2>
            <form action="{{ url_for('add_availability') }}" method="POST">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Day of Week</label>
                        <select name="day_of_week" required class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                            {% for day in days_of_week %}
                            <option value="{{ day }}">{{ day }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Start Time</label>
                        <input type="time" name="start_time" required class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">End Time</label>
                        <input type="time" name="end_time" required class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Slot Duration (min)</label>
                        <select name="slot_duration" class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                            <option value="30">30 minutes</option>
                            <option value="45">45 minutes</option>
                            <option value="60">1 hour</option>
                        </select>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-1">Notes (Optional)</label>
                    <input type="text" name="notes" placeholder="e.g., Surgery day, Emergency only" class="w-full px-3 py-2 bg-gray-700 text-white rounded-md">
                </div>
                <button type="submit" class="bg-teal-600 text-white px-6 py-2 rounded-md hover:bg-teal-700">
                    Add Availability
                </button>
            </form>
        </div>

        <!-- Current Availability -->
        <div class="bg-gray-800 rounded-lg p-6">
            <h2 class="text-xl font-bold text-white mb-4">Current Availability</h2>
            {% if availability_slots %}
                <div class="space-y-3">
                    {% for slot in availability_slots %}
                    <div class="bg-gray-700 rounded-lg p-4 flex justify-between items-center">
                        <div>
                            <h3 class="text-white font-medium">{{ slot.day_of_week }}</h3>
                            <p class="text-gray-300">{{ slot.start_time }} - {{ slot.end_time }} ({{ slot.slot_duration }} min slots)</p>
                            {% if slot.notes %}
                            <p class="text-sm text-gray-400">{{ slot.notes }}</p>
                            {% endif %}
                        </div>
                        <a href="{{ url_for('remove_availability', slot_id=slot.id) }}" 
                           class="bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700"
                           onclick="return confirm('Remove this availability?')">
                            Remove
                        </a>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-gray-400">No availability set yet. Add your first available time slot above.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
